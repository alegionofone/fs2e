{{!-- systems/fs2e/templates/actor/actor-tabs/skills-tab.hbs --}}
<section class="skills container shade">

  {{!-- Natural Skills --}}
  <h3>Natural Skills</h3>
    <div class="grid cols-3 gap-x-lg gap-y-sm">
      {{#each view.skills.natural}}
        <label class="stat" data-skill="{{this.key}}">
          <span class="name">{{this.label}}</span>
          <span class="value"
                data-tooltip="{{this.tooltip}}"
                data-tooltip-class="fs2e-multiline">
            {{this.total}}
          </span>
        </label>
      {{/each}}
    </div>

  {{!-- Learned Skills --}}
  <div class="container learned-skills">
    <h3>Learned Skills</h3>

    <div class="grid cols-3 gap-x-lg gap-y-sm">
      {{#each view.skills.learned}}
        <label class="stat" data-skill="{{this.key}}">
          <span class="name">{{this.label}}</span>
          <span class="value"
                data-tooltip="{{this.tooltip}}"
                data-tooltip-class="fs2e-multiline">
            {{this.total}}
          </span>
        </label>
      {{/each}}
    </div>

    {{!-- Grouped specialisations (each renders only if it has items) --}}
    {{#if system.skills.learned.artisan.length}}
      <h4 class="skills-subhead">Artisan</h4>
      <div class="grid cols-3 gap-x-lg gap-y-sm">
        {{#each system.skills.learned.artisan}}
          <label class="stat" data-skill="artisan:{{this.name}}">
            <span class="name">{{this.name}}</span>
            <span class="value"
                  data-tooltip="Base: {{this.base}}\nTemp: {{this.temp}}\nMod: {{this.mod}}\n—\nTotal: {{this.total}}"
                  data-tooltip-class="fs2e-multiline">
              {{this.total}}
            </span>
          </label>
        {{/each}}
      </div>
    {{/if}}

    {{#if system.skills.learned.drive.length}}
      <h4 class="skills-subhead">Drive</h4>
      <div class="grid cols-3 gap-x-lg gap-y-sm">
        {{#each system.skills.learned.drive}}
          <label class="stat" data-skill="drive:{{this.name}}">
            <span class="name">{{this.name}}</span>
            <span class="value"
                  data-tooltip="Base: {{this.base}}\nTemp: {{this.temp}}\nMod: {{this.mod}}\n—\nTotal: {{this.total}}"
                  data-tooltip-class="fs2e-multiline">
              {{this.total}}
            </span>
          </label>
        {{/each}}
      </div>
    {{/if}}

    {{#if system.skills.learned.lore.length}}
      <h4 class="skills-subhead">Lore</h4>
      <div class="grid cols-3 gap-x-lg gap-y-sm">
        {{#each system.skills.learned.lore}}
          <label class="stat" data-skill="lore:{{this.name}}">
            <span class="name">{{this.name}}</span>
            <span class="value"
                  data-tooltip="Base: {{this.base}}\nTemp: {{this.temp}}\nMod: {{this.mod}}\n—\nTotal: {{this.total}}"
                  data-tooltip-class="fs2e-multiline">
              {{this.total}}
            </span>
          </label>
        {{/each}}
      </div>
    {{/if}}

    {{#if system.skills.learned.science.length}}
      <h4 class="skills-subhead">Science</h4>
      <div class="grid cols-3 gap-x-lg gap-y-sm">
        {{#each system.skills.learned.science}}
          <label class="stat" data-skill="science:{{this.name}}">
            <span class="name">{{this.name}}</span>
            <span class="value"
                  data-tooltip="Base: {{this.base}}\nTemp: {{this.temp}}\nMod: {{this.mod}}\n—\nTotal: {{this.total}}"
                  data-tooltip-class="fs2e-multiline">
              {{this.total}}
            </span>
          </label>
        {{/each}}
      </div>
    {{/if}}

    {{#if system.skills.learned.social.length}}
      <h4 class="skills-subhead">Social</h4>
      <div class="grid cols-3 gap-sm">
        {{#each system.skills.learned.social}}
          <label class="stat" data-skill="social:{{this.name}}">
            <span class="name">{{this.name}}</span>
            <span class="value"
                  data-tooltip="Base: {{this.base}}\nTemp: {{this.temp}}\nMod: {{this.mod}}\n—\nTotal: {{this.total}}"
                  data-tooltip-class="fs2e-multiline">
              {{this.total}}
            </span>
          </label>
        {{/each}}
      </div>
    {{/if}}

    {{!-- Tech Redemption (support correct + typo keys) --}}
    {{#if system.skills.learned.techRedemption.length}}
      <h4 class="skills-subhead">Tech Redemption</h4>
      <div class="grid cols-3 gap-x-lg gap-y-sm">
        {{#each system.skills.learned.techRedemption}}
          <label class="stat" data-skill="techRedemption:{{this.name}}">
            <span class="name">{{this.name}}</span>
            <span class="value"
                  data-tooltip="Base: {{this.base}}\nTemp: {{this.temp}}\nMod: {{this.mod}}\n—\nTotal: {{this.total}}"
                  data-tooltip-class="fs2e-multiline">
              {{this.total}}
            </span>
          </label>
        {{/each}}
      </div>
    {{/if}}

    {{#if system.skills.learned.techRedemptiopn.length}}
      <h4 class="skills-subhead">Tech Redemption</h4>
      <div class="grid cols-3 gap-x-lg gap-y-sm">
        {{#each system.skills.learned.techRedemptiopn}}
          <label class="stat" data-skill="techRedemption:{{this.name}}">
            <span class="name">{{this.name}}</span>
            <span class="value"
                  data-tooltip="Base: {{this.base}}\nTemp: {{this.temp}}\nMod: {{this.mod}}\n—\nTotal: {{this.total}}"
                  data-tooltip-class="fs2e-multiline">
              {{this.total}}
            </span>
          </label>
        {{/each}}
      </div>
    {{/if}}

    {{#if system.skills.learned.warfare.length}}
      <h4 class="skills-subhead">Warfare</h4>
      <div class="grid cols-3 gap-x-lg gap-y-sm">
        {{#each system.skills.learned.warfare}}
          <label class="stat" data-skill="warfare:{{this.name}}">
            <span class="name">{{this.name}}</span>
            <span class="value"
                  data-tooltip="Base: {{this.base}}\nTemp: {{this.temp}}\nMod: {{this.mod}}\n—\nTotal: {{this.total}}"
                  data-tooltip-class="fs2e-multiline">
              {{this.total}}
            </span>
          </label>
        {{/each}}
      </div>
    {{/if}}

  </div>
</section>
